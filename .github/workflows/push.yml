name: CI for push

on:
 push:
  branches:
   - test
   - test2

jobs:
 build:
  runs-on: ubuntu-latest

  steps:
    - name: Checkout Repository
      uses: actions/checkout@v2

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '20'

     - name: Install backend dependencies
       run: |
         cd backend
         npm install

      - name: Install frontend dependencies & build
        run: |
          cd frontend
          npm install
          npm run build        